!function(t){"use strict";var n=Base.klass.create({elements:{"#j-btn":"elBtn"},events:{"click #j-btn":"lotteryEvent"},debug:!0,params:{data:null,winningCookieId:"winningId",isPlaying:!1,playFlag:"active"},consoleLog:function(t){this.debug&&console.log(t)},init:function(){this.params.data=this._parseData(),this.consoleLog(this.params.data),this.flush()},_parseData:function(){var t,n,a,i=[];if(USERDATA&&(t=String(USERDATA).split(";"),n=t.length,n>0))for(var e=0;n>e;e++)a=String(t[e]).split(","),i.push({index:e+1,id:a[0],name:a[1],department:a[2]});return i},flush:function(){},lotteryEvent:function(t){return t.preventDefault(),this.params.isPlaying?!1:void(this.elBtn.hasClass(this.params.playFlag)?this.endLottery():this.strartLottery())},getWinningUser:function(){return Base.cookie.getCookie(this.params.winningCookieId)},addWinningUser:function(){},clearWinningUser:function(){},getRandomNumber:function(t){t=t||this.params.data.length;var n=(this.getWinningUser(),Math.ceil(Math.random()*t));return n},_aniamte:function(){},startAniamte:function(){},endAnimate:function(){},strartLottery:function(){this.elBtn.addClass(this.params.playFlag)},endLottery:function(){var t=this.getRandomNumber();this.elBtn.removeClass(this.params.playFlag),t||alert("所有人都中过奖了！xxx")}});t(function(){new n})}(jQuery);