!function(){$("#js_cateTopBar").on("mouseover","div.operate_list",function(){var t=$(this),i=t.find("ul");i.length&&(t.addClass("operate_list_hover"),i.show())}),$("#js_cateTopBar").on("mouseout","div.operate_list",function(){var t=$(this),i=t.find("ul");i.length&&(t.removeClass("operate_list_hover"),i.hide())}),$("#js_cateListUl").on("click","a.lookFast",function(){var t=$(this),i={area:["1020px","580px"],offset:[($(window).height()-590)/2+"px","50%"],shadeClose:!0,iframe:{src:t.data("url")}};GLOBAL.PopObj.iframe(i)}),$(".js_tips").hover(function(){var t=$(this);GLOBAL.PopObj.tipsShow({Obj:t,msg:t.data("tips")})},function(){GLOBAL.PopObj.closeTipsShow()})}(),function(){function t(){var t=$("#js_C_all"),i=$('<div id="see_all_department"></div>');FirstNavList=t.children(".c_ctg_item"),len=0,t.length&&FirstNavList.length>3&&(len=FirstNavList.length,i.find("span").html(len),FirstNavList.slice(3).hide(),i.html(jsLg.seeAllDepartments).find("span").text(len),t.append(i),g(),v(),i.click(function(){var t=$(this);1!=t.data("isShow")?(FirstNavList.slice(3).show(),t.data("isShow",1),i.html(jsLg.seeFewerDepartments)):(FirstNavList.slice(3).hide(),t.data("isShow",0),$(window).height()>$("#js_cate_attr").height()&&$("#js_cate_attr").css({position:"fixed",top:0,bottom:"auto"}),i.html(jsLg.seeAllDepartments).find("span").text(len)),g(),v()}))}function i(){var t=$("#js_C_all").find(".c_ctg_item");t.each(function(t,i){var s=$(i).find(".c_ctg_con"),e=s.find("li");e.length>5&&(e.slice(5).hide(),s.append('<div class="seeLine"><strong>+</strong>See More</div>'),s.on("click",".seeLine",function(){var t=$(this);1!=t.data("isShow")?(e.slice(5).show(),t.data("isShow",1),t.html("<strong>-</strong>See Less")):(e.slice(5).hide(),t.data("isShow",0),t.html("<strong>+</strong>See More"))}),g(),v())}),g(),v()}var s=$("#js_closeCateAttr"),e=$("#js_cateWrap"),o=$("#js_showCateBar"),n=$("#js_cate_attr"),a=$("#js_cateTopBar"),l=$("#js_cateListUl"),r=$(window),c=parseInt(n.height(),10)+parseInt(n.css("paddingBottom"),10),h=parseInt(e.height(),10),d=$(window).height(),p=e.offset(),f=a.offset(),u=200,g=function(){var t=c;t>=h?e.height(t):""};g();var v=function(){a.css({width:e.width()-20,left:e.offset().left})};v();var _=function(){var t=l.find("li").outerWidth(!0),i=e.width();l.width(Math.floor(i/t)*t)};_(),s.on("click",function(){return e.animate({marginLeft:0},u,function(){o.fadeIn(),n.hide(),e.height("auto"),v(),_()}),!1}),o.on("click",function(){return e.animate({marginLeft:"245px"},u,function(){g(),v(),_()}),o.fadeOut(u),n.fadeIn(u),!1}),r.on("scroll",function(){var t=$(this),i=t.scrollTop();c=parseInt(n.height(),10)+parseInt(n.css("paddingBottom"),10),a.css(i>f.top?{position:"fixed",top:0}:{position:"static"}),i>p.top?c>d?(n.css(i-p.top+d>=n.height()?{position:"fixed",top:"auto",bottom:"0"}:{position:"absolute",top:"0",bottom:"auto"}),i-p.top+d>=h&&n.css({position:"absolute"})):n.css(i-p.top+n.height()>=h?{position:"absolute",top:"auto",bottom:"0"}:{position:"fixed",top:"0",bottom:"auto"}):n.css({position:"absolute",top:"0",bottom:"auto"})}).on("resize",function(){v(),_()}),t(),i()}(),function(){function t(t){this.contains=$(t),this.link=this.contains.find("span")}t.prototype.ini=function(){this.link.length>3&&(this.link.slice(3).hide(),this.contains.append('<i data-flag="0" class="fl">'+jsLg.More+"</i>"),this._operal())},t.prototype._operal=function(){var t=this,i=this.contains.height();$(this.contains).on("click","i",function(){0==$(this).data("flag")?(t.link.slice(3).show(),t.contains.css("height","auto"),$(this).text(jsLg.Less).data("flag",1)):(t.link.slice(3).hide(),t.contains.height(i),$(this).text(jsLg.More).data("flag",0))})};var i=new t("#js_search_key");i.ini()}(),function(){$("#js_newCateList,#js_free_shippList").on("click",function(t){var i=$(t.target);if(i.is("p")){var s=i.parent("div.item"),e=s.siblings("div.item");s.addClass("cur"),e.removeClass("cur").find(".openCur").removeClass("openCur")}else if(i.is("dt")||i.is("dt i")){var s=i.closest("dl");s.find("dd li").length&&(s.hasClass("openCur")?s.removeClass("openCur"):s.addClass("openCur").siblings("dl").removeClass("openCur"))}})}();