Validator={Require:/.+/,UserId:/^[a-zA-Z_][a-zA-Z_0-9]{3,19}$/,Email:/^\w+([-+.]\w+)*@\w+([-.]\\w+)*\.\w+([-.]\w+)*$/,Phone:/^((\(\d{3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}$/,Mobile:/^((\(\d{3}\))|(\d{3}\-))?13\d{9}$/,Url:/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,IdCard:/^\d{15}(\d{2}[A-Za-z0-9])?$/,Currency:/^\d+(\.\d+)?$/,Number:/^\d+$/,Zip:/^[1-9]\d{5}$/,QQ:/^[1-9]\d{4,8}$/,Integer:/^[-\+]?\d+$/,Double:/^[-\+]?\d+(\.\d+)?$/,English:/^[A-Za-z]+$/,Chinese:/^[\u0391-\uFFE5]+$/,UnSafe:/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,IsSafe:function(a){return!this.UnSafe.test(a)},SafeString:"this.IsSafe(value)",Limit:"this.limit(value.length,getAttribute('min'), getAttribute('max'))",LimitB:"this.limit(this.LenB(value), getAttribute('min'), getAttribute('max'))",Date:"this.IsDate(value, getAttribute('min'), getAttribute('format'))",Repeat:"value == document.getElementsByName(getAttribute('to'))[0].value",Range:"getAttribute('min') < value && value < getAttribute('max')",Compare:"this.compare(value,getAttribute('operator'),getAttribute('to'))",Custom:"this.Exec(value, getAttribute('regexp'))",Group:"this.MustChecked(getAttribute('name'), getAttribute('min'), getAttribute('max'))",KeyGroup:"this.MustInput(getAttribute('name'), getAttribute('min'), getAttribute('max'))",ErrorItem:[document.forms[0]],ErrorMessage:["Lead to the failure to submit the following reasons\uff1a				"],FocusOne:function(obj){with(obj){this.ClearState(obj);try{var span=document.createElement("SPAN");span.id="__ErrorMessagePanel",span.style.color="blue",obj.parentNode.appendChild(span),span.innerHTML="<img src=http://cloud4.faout.com/imagecache/S/images/onFocus.gif>"+obj.getAttribute("msg")}catch(e){}}},ValidateOne:function(obj,mode){with(this.ErrorMessage.length=1,this.ErrorItem.length=1,obj){var _dataType=getAttribute("dataType");if("object"==typeof _dataType||"undefined"==typeof this[_dataType])return!0;if(this.ClearState(obj),""==value)return!0;switch(_dataType){case"Date":case"Repeat":case"Range":case"Compare":case"Custom":case"Group":case"KeyGroup":case"Limit":case"LimitB":case"SafeString":if(eval(this[_dataType])){try{var span=document.createElement("SPAN");span.id="__ErrorMessagePanel",span.style.color="blue",this.parentNode.appendChild(span),span.innerHTML="<img src=http://cloud4.faout.com/imagecache/S/images/onCorrect.gif>The correct format."}catch(e){}alert(e.description)}else this.AddErrorOne(this,getAttribute("msg"));break;default:if(this[_dataType].test(value))try{var span=document.createElement("SPAN");span.id="__ErrorMessagePanel",span.style.color="blue",obj.parentNode.appendChild(span),span.innerHTML="<img src=http://cloud4.faout.com/imagecache/S/images/onCorrect.gif>The correct format."}catch(e){}else this.AddErrorOne(this,getAttribute("msx"))}}if(this.ErrorMessage.length>1){switch(mode=mode||1){case 2:obj.style.color="red";case 1:alert(this.ErrorMessage.join("\n"));break;case 3:try{var span=document.createElement("SPAN");span.id="__ErrorMessagePanel",span.style.color="red",obj.parentNode.appendChild(span),span.innerHTML=this.ErrorMessage[1].replace(/\d+:/,"<img src=http://cloud4.faout.com/imagecache/S/images/onError.gif>")}catch(e){}break;default:alert(this.ErrorMessage.join("\n"))}return!1}return!0},Validate:function(theForm,mode){var obj=theForm||event.srcElement,count=obj.elements.length;this.ErrorMessage.length=1,this.ErrorItem.length=1,this.ErrorItem[0]=obj;for(var i=0;count>i;i++)with(obj.elements[i]){var _dataType=getAttribute("dataType");if("object"==typeof _dataType||"undefined"==typeof this[_dataType])continue;if(this.ClearState(obj.elements[i]),disabled)continue;if("false"==getAttribute("require")&&""==value)continue;switch(_dataType){case"Date":case"Repeat":case"Range":case"Compare":case"Custom":case"Group":case"KeyGroup":case"Limit":case"LimitB":case"SafeString":eval(this[_dataType])||this.AddError(i,getAttribute("msg"));break;default:this[_dataType].test(value)||this.AddError(i,getAttribute("msg"))}}if(this.ErrorMessage.length>1){mode=mode||1;var errCount=this.ErrorItem.length;switch(mode){case 2:for(var i=1;errCount>i;i++)this.ErrorItem[i].style.color="red";case 1:alert(this.ErrorMessage.join("\n")),this.ErrorItem[1].focus();break;case 3:for(var i=1;errCount>i;i++)try{var span=document.createElement("SPAN");span.id="__ErrorMessagePanel",span.style.color="red",this.ErrorItem[i].parentNode.appendChild(span),span.innerHTML=this.ErrorMessage[i].replace(/\d+:/,"<img src=http://cloud4.faout.com/imagecache/S/images/onError.gif>")}catch(e){}this.ErrorItem[1].focus();break;default:alert(this.ErrorMessage.join("\n"))}return!1}return!0},limit:function(a,b,c){return b=b||0,c=c||Number.MAX_VALUE,a>=b&&c>=a},LenB:function(a){return a.replace(/[^\x00-\xff]/g,"**").length},ClearState:function(elem){with(elem){"red"==style.color&&(style.color="");var lastNode=parentNode.childNodes[parentNode.childNodes.length-1];"__ErrorMessagePanel"==lastNode.id&&parentNode.removeChild(lastNode)}},ClearStateAll:function(theForm,mode){var obj=theForm||event.srcElement,count=obj.elements.length;this.ErrorMessage.length=1,this.ErrorItem.length=1,this.ErrorItem[0]=obj;for(var i=0;count>i;i++)with(obj.elements[i]){var _dataType=getAttribute("dataType");if("object"==typeof _dataType||"undefined"==typeof this[_dataType])continue;this.ClearState(obj.elements[i])}},AddError:function(a,b){this.ErrorItem[this.ErrorItem.length]=this.ErrorItem[0].elements[a],this.ErrorMessage[this.ErrorMessage.length]=this.ErrorMessage.length+":"+b},AddErrorOne:function(a,b){this.ErrorItem[this.ErrorItem.length]=a,this.ErrorMessage[this.ErrorMessage.length]=this.ErrorMessage.length+":"+b},AddOkMsg:function(a){try{var b=document.createElement("SPAN");b.id="__ErrorMessagePanel",b.style.color="blue",alert(typeof a.parentNode),a.parentNode.appendChild(b),b.innerHTML="<img src=http://cloud4.faout.com/imagecache/S/images/onCorrect.gif>The correct format."}catch(c){}},Exec:function(a,b){return new RegExp(b,"g").test(a)},compare:function(a,b,c){switch(b){case"NotEqual":return a!=c;case"GreaterThan":return a>c;case"GreaterThanEqual":return a>=c;case"LessThan":return c>a;case"LessThanEqual":return c>=a;default:return a==c}},MustChecked:function(a,b,c){var d=document.getElementsByName(a),e=0;b=b||1,c=c||d.length;for(var f=d.length-1;f>=0;f--)d[f].checked&&e++;return e>=b&&c>=e},MustInput:function(a,b,c){var d=document.getElementsByName(a),e=0;b=b||1,c=c||d.length;for(var f=d.length-1;f>=0;f--)""!=d[f].value&&e++;return e>=b&&c>=e},IsDate:function(a,b){function h(a){return 0|(30>a?"20":"19")+a}b=b||"ymd";var c,d,e,f;switch(b){case"ymd":if(c=a.match(new RegExp("^\\s*((\\d{4})|(\\d{2}))([-./])(\\d{1,2})\\4(\\d{1,2})\\s*$")),null==c)return!1;f=c[6],e=c[5]--,d=4==c[2].length?c[2]:h(parseInt(c[3],10));break;case"dmy":if(c=a.match(new RegExp("^\\s*(\\d{1,2})([-./])(\\d{1,2})\\2((\\d{4})|(\\d{2}))\\s*$")),null==c)return!1;f=c[1],e=c[3]--,d=4==c[5].length?c[5]:h(parseInt(c[6],10))}var g=new Date(d,e,f);return"object"==typeof g&&d==g.getFullYear()&&e==g.getMonth()&&f==g.getDate()}};