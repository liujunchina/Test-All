$(function(){(function(){var A={formFlag:1,canUpFlag:0,unitFlag:$("#s-custom_size").val(),unitOrg:2.54,changeUnitFun:function(F){var C=this;var E=F;var D="cm";if(E==0){D="in"}if(C.unitFlag!=E){C.unitFlag=E;$(".numpass").each(function(G,H){if($(this).val()){if(E==0){$(this).val(($(this).val()/C.unitOrg).toFixed(1))}else{$(this).val(($(this).val()*C.unitOrg).toFixed(1))}}});$(".custom_unit").text(D)}},cheackNumpass:function(C){var E=$.trim(C.val());var F="tips1";var D=/^[1-9]\d*|0$/;if(!D.test(E)){C.addClass("wrongNum");C.siblings("."+F).show()}else{C.removeClass("wrongNum");C.siblings("."+F).hide()}},canUpForm:function(){var C=this;C.canUpFlag=1;if(C.formFlag==1){if($("dl.custom_input dd").find(".numpass").hasClass("wrongNum")){C.canUpFlag=0}$(".custom_input").find("input.numpass").each(function(D,E){if(!$(this).val()){C.canUpFlag=0}})}else{if(!$("#select-goods-size").val()){C.canUpFlag=0}}if(C.canUpFlag==1){$("#s-apply_ptailor").attr("class","redBtn")}else{$("#s-apply_ptailor").attr("class","grayBtn")}}};var B=document.getElementById("custom_Mode");if(B&&B.getAttribute("flag")==1){B.checked="checked"}$(".s-size_link").click(function(){$("#s-size").show();$("#s-pri_cussize").hide();$("#s-ptail_more_change").html("0.00");A.formFlag=0;A.canUpForm();return false});$("#select-goods-size").change(function(){A.canUpForm()});$(".s-size-choose").click(function(){$("#s-size").hide();$("#s-pri_cussize").show();$("#s-ptail_more_change").html($("#s-ptail_more").html());A.formFlag=1;A.canUpForm();return false});$("#s-custom_size").change(function(){A.changeUnitFun($(this).val())});$(".custom_input").find("input.numpass").each(function(C,D){$(this).keyup(function(){A.cheackNumpass($(this));A.canUpForm()})});$("#s-apply_ptailor").click(function(){if(A.canUpFlag==1){if(A.formFlag==1){$.post($("#s-pri_cussizeForm").attr("action"),$("#s-pri_cussizeForm").serialize(),function(){B.setAttribute("flag",1);$(".xubox_close").trigger("click")});if(this.getAttribute("data-highGrade")==1){var C=$("#advanced_suitCustom");$("html,body").animate({scrollTop:C.offset().top},500);C.trigger("click")}}else{window.location.href="/"+JS_LANG+"product"+$("#select-goods-size").val()+".html"}}return false});$("#s-cancel_ptailor").click(function(){if(A.formFlag==1){$("input.numpass").each(function(C,D){$(this).val("")});$.get($("#s-pri_cussizeForm").attr("action")+"clear_suit_session=1",function(){B.checked=false;B.setAttribute("flag",0)})}$(".xubox_close").trigger("click")});$(".selectWoolCheakBox").find("input:checkbox").each(function(C,D){$(this).click(function(){var E=true;if(this.value==0){$("input.value_category").attr("checked",this.checked);this.checked?($("#selectWoolList").find("li").show()):($("#selectWoolList").find("li").hide())}else{$("input.value_category").each(function(){if(!this.checked){E=false;$("#value_category0").attr("checked",false)}});E?($("#value_category0").attr("checked","checked")):($("#value_category0").attr("checked",false));$("li."+this.id).toggle()}})})})()});