function snowFall(a){a=a||{},this.maxFlake=a.maxFlake||200,this.flakeSize=a.flakeSize||10,this.fallSpeed=a.fallSpeed||1,this.status=0}function snowCanvas(){var a=document.createElement("canvas");return a.id="snowfall",a.width=window.innerWidth,a.height=window.innerHeight,a.setAttribute("style","position: fixed; top: 0; left: 0; z-index: 2999; pointer-events: none;"),document.getElementsByTagName("body")[0].appendChild(a),this.canvas=a,a.getContext?(this.ctx=a.getContext("2d"),window.onresize=function(){a.width=window.innerWidth,a.height=window.innerHeight},!0):!1}function flakeMove(a,b,c,d){this.x=Math.floor(Math.random()*a),this.y=Math.floor(Math.random()*b),this.size=Math.random()*c+2,this.maxSize=c,this.speed=1*Math.random()+d,this.fallSpeed=d,this.velY=this.speed,this.velX=0,this.stepSize=Math.random()/30,this.step=0}function createFlakes(){for(var a=this.maxFlake,b=this.flakes=[],c=this.canvas,d=0;a>d;d++)b.push(new flakeMove(c.width,c.height,this.flakeSize,this.fallSpeed))}function drawSnow(){var a=this.maxFlake,b=this.flakes;ctx=this.ctx,canvas=this.canvas,that=this,ctx.clearRect(0,0,canvas.width,canvas.height);for(var c=0;a>c;c++)b[c].update(),b[c].render(ctx);this.loop=requestAnimationFrame(function(){drawSnow.apply(that)})}requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame,snowFall.prototype.start=function(){if(1==this.status||4==this.status)return!1;this.status=1;var a=snowCanvas.apply(this);a&&(createFlakes.apply(this),drawSnow.apply(this))},snowFall.prototype.stop=function(){return 2!=this.status&&0!=this.status&&this.canvas?(this.pause(),this.status=2,this.canvas.parentNode.removeChild(this.canvas),this.canvas=null,void 0):!1},snowFall.prototype.pause=function(){return 3==this.status?!1:(this.status=3,cancelAnimationFrame(this.loop),void 0)},snowFall.prototype.resume=function(){3==this.status&&this.canvas&&(this.status=4,this.loop=requestAnimationFrame(function(){drawSnow.apply(that)}))},flakeMove.prototype.update=function(){this.x,this.y,this.velX*=1,this.velY<=this.speed&&(this.velY=this.speed),this.velX+=Math.cos(this.step+=.05)*this.stepSize,this.y+=this.velY,this.x+=this.velX,(this.x>=canvas.width||this.x<=0||this.y>=canvas.height||this.y<=0)&&this.reset(canvas.width,canvas.height)},flakeMove.prototype.reset=function(a){this.x=Math.floor(Math.random()*a),this.y=0,this.size=Math.random()*this.maxSize+2,this.speed=1*Math.random()+this.fallSpeed,this.velY=this.speed,this.velX=0},flakeMove.prototype.render=function(a){var b=a.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size);b.addColorStop(0,"rgba(255, 255, 255, 0.9)"),b.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),b.addColorStop(1,"rgba(255, 255, 255, 0)"),a.save(),a.fillStyle=b,a.beginPath(),a.arc(this.x,this.y,this.size,0,2*Math.PI),a.fill(),a.restore()};