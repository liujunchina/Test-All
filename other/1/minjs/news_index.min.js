!function(e){e.fn.mySelect=function(n){var n=e.extend({elementY:e("#news-search-year"),elementM:e("#news-search-month"),elementD:e("#news-search-day"),slide:!0,slideSpeed:200},n),t=function(e){return e%4==0&&e%100!=0||e%400==0},s=function(e){e.find(".news-select-drop").addClass("disabled")},a=function(e){e.find(".news-select-drop").removeClass("disabled")},i=function(e){for(var n="",t=1;e>=t;t++)n=n+'<li class="option" data-value="'+t+'">'+t+"</li>";return n},l=function(t,s,a){var l=i(s);t.children("ul").html(e(l));for(var r=n.elementD.find("option").first().text(),o='<option value="">'+r+"</option>",d=1;s>=d;d++)o=o+"<option value="+d+">2000</option>";n.elementD.html(e(o)),n.elementD.val(a),a>0&&s>=a||t.children(".news-select-drop").find("span").eq(0).text(r)},r=function(n,t){var s=e("<div />").append(e("<ul />").addClass("news-drop-list").hide()).addClass("mypr");if(n.hide().find("option").each(function(n){var t=e(this);0===n?e("<p />").attr({"class":"news-select-drop news-search-border"}).append(e("<span />").text(t.text())).append(e("<span />").attr({"class":"right-drop-icon"}).append(e("<span />"))).prependTo(s):e("<li />").text(t.text()).attr({"class":"option","data-value":t.val()}).appendTo(s.children("ul"))}),arguments[1]){var a=i(t);s.children("ul").append(e(a))}return s.appendTo(n.parent()),s},o=r(n.elementY),d=r(n.elementM);s(d);var c=r(n.elementD);s(c),e(".news-select-drop").on("click",function(t){t.stopPropagation(),e(".news-drop-list").hide(),e(this).hasClass("disabled")||(n.slide?e(this).next(".news-drop-list").stop(!0,!1).slideToggle(n.slideSpeed):e(this).next(".news-drop-list").toggle())}),o.find(".news-drop-list").on("click",".option",function(){var s=e(this).data("value");if(e(this).closest(".mypr").find(".news-select-drop").children("span").eq(0).text(e(this).text()),n.elementY.val(s),a(d),"2"==n.elementM.val()){var i=t(s)?29:28;l(c,i,29)}}),d.find(".news-drop-list").on("click",".option",function(){var s=e(this).data("value");e(this).closest(".mypr").find(".news-select-drop").children("span").eq(0).text(e(this).text()),n.elementM.val(s),a(c);var i,r=[1,3,5,7,8,10,12];i="2"==s?t(n.elementY.val())?29:28:e.inArray(s,r)>-1?31:30,l(c,i,n.elementD.val())}),c.find(".news-drop-list").on("click",".option",function(){var t=e(this).data("value");e(this).closest(".mypr").find(".news-select-drop").children("span").eq(0).text(e(this).text()),n.elementD.val(t)}),e("body").on("click",function(){e(".news-drop-list").is(":visible")&&e(".news-drop-list").stop(!0,!1).slideUp(n.slideSpeed)})},e(function(){e(".news-search-submit").length>0&&e(".news-search-submit").click(function(n){n.preventDefault();var t=e("#news-search-year").val()?e("#news-search-year").val():0,s=e("#news-search-month").val()?e("#news-search-month").val():0,a=e("#news-search-day").val()?e("#news-search-day").val():0,i=e(".news-search-key").val();if(""===i)return layer.tips("请输入关键词 ！",".news-search-key",{tips:[4,"#ffcc01"]}),e(".news-search-key").focus(),!1;var l="/news/y"+t+"/m"+s+"/d"+a+"/k"+i+"/";window.location.href=l})})}(jQuery);